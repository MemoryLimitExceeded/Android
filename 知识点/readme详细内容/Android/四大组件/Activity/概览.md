### 概览

​	Activity 是 Android 四大组件之一，在四大组件当中作为 UI 界面和用户进行交互操作。移动端应用的入口不仅仅只是点击桌面图标，还可以通过其他应用来调用该应用的 Activity ，来与该应用进行交互。

​	Activity 类的另一个目的就是规范这种范式，Activity 充当了应用与用户交互的入口点。

> ※ 实际上 Activity 的 UI 实现是由 View 来实现的，Window 则做为 View 的容器，这里不过多提及。

- 如何使用

  - 声明 Activity

    因为 Activity 是四大组件之一，我们需要在 AndroidManifest.xml 声明 Activity，并添加 <activity> 元素作为 <application> 元素的子元素。
    
    ```xml
    <manifest ... >
      <application ... >
          <activity android:name=".ExampleActivity" />
          ...
      </application ... >
      ...
  </manifest >
    ```
    
    > ※ 需要查看更多的 AndroidManifest.xml 声明内容，请点击 Google 官网[应用清单](https://developer.android.google.cn/guide/topics/manifest/manifest-intro)
    
  - 声明 Activity 权限

    权限不仅仅可以在 <application> 标签内声明，也可以在 Activity 中声明。

    ```xml
    <activity android:name="...."
       android:permission=”...”
    />
    ```

    不过，只有当应用或者 Activity 在清单文件中包含即将启动的 Activity 的权限，才能对后者进行启动。

    放一下 Google 的示例：

    *例如，假设您的应用想要使用一个名为 SocialApp 的应用在社交媒体上分享文章，则 SocialApp 本身必须定义调用它的应用所需具备的权限：*

    ```xml
    <activity android:name="...."
       android:permission=”com.google.socialapp.permission.SHARE_POST”
    />
    ```

    *然后，为了能够调用 SocialApp，您的应用必须匹配 SocialApp 清单中设置的权限：*

    ```xml
    <manifest>
        <uses-permission android:name="com.google.socialapp.permission.SHARE_POST" />
    </manifest>  
    ```

  - 设置布局

    复写父类的 onCreate 方法，添加 Activity 的布局。

    ```kotlin
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
    }
    ```

    > ※ 对于如何编写布局这里也不做介绍，请参考百度众多的博客资源

- 生命周期

  Activity 有着自己的生命周期，可以根据对 Activity 状态进行的回调来处理其状态之间的转换。

  - onCreate()

    Activity 开始工作调用的方法，通过调用 setContentView(int) 解析 xml 获取布局，使用 findViewById(int) 获取控件实例来对控件进行初始化操作。

  - onStart()

    Activity 即将进入前台要调用的方法，并且会对用户（部分）可见，进入前台要做的最后准备工作。

  - onResume()

    Activity 即将要开始与用户进行交互要调用的方法。回调完成以后，该 Activity 将位于 Activity 堆栈顶端，并捕捉用户的输入。

- 状态变更

- 任务栈和返回栈