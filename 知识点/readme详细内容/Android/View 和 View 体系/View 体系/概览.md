### 概览

  	UI 界面在开发中是极其重要的一部分，几乎所有的 UI 界面都是用 View 来描述的。作为 UI 的描述，就少不了与用户交互的逻辑和动画，而这些就需要使用 View 来实现。一般情况下是从 xml 中添加 View，不过也可以从代码中添加，但要比 xml 麻烦些，不过灵活性就大大增加了。

> ※ 实际上 View 需要一个容器才能显示到屏幕上，这个容器就是 Window

#### 目录

- View 树
  - View、ViewGroup 和 ViewParent
  - 创建过程
  - 遍历时机
  - 遍历流程
- View 的事件分发
- View 动画

***

- View 树

  在 xml 写布局的时候，里面的元素都形成了树状结构的关系，对于一个界面就是一颗 View 树，我们在使用 findViewById() 时，就是深度优先遍历去找 View 的实例。
  
  - View、ViewGroup 和 ViewParent
  
    先以一个 UML 图介绍它们之间的联系：
  
    ![](D:\360极速浏览器下载\Untitled Diagram.jpg)
  
    ViewGroup 为 View 的子类，且实现了 ViewParent。以 UML 图的视角来看是这么回事。如果从 xml 来看 ViewGroup 是 View 的父布局，ViewGroup 也可以是 ViewGroup 的父布局。
  
    ![View 树](https://developer.android.google.cn/images/viewgroup_2x.png)
  
    结合上面所述，在布局中，View 树的叶子结点一定是 View 类或其子类 ViewGroup，其余都是 ViewGroup。ViewParent 的作用是提供了子布局的 View 与父布局交互的接口。
  
    ```Java
    //--- Android 29 ---
    @UnsupportedAppUsage(maxTargetSdk = Build.VERSION_CODES.P)
    protected ViewParent mParent;
    ```
  
  - 创建过程